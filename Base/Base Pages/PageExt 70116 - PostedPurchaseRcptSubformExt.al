pageextension 70116 PostedPurchaseRcptSubformExt extends "Posted Purchase Rcpt. Subform"
{
    // version NAVW19.00.00.51685,NAVIN9.00.00.51685,QC 1.0,QCB2B1.2,QC1.2

    layout
    {

        //Unsupported feature: Change Name on "Control 1900000001". Please convert manually.

        modify("Control 1")
        {

            //Unsupported feature: Change Name on "Control 1". Please convert manually.

            ShowCaption = false;
        }

        //Unsupported feature: Change Name on "Control 2". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 2". Please convert manually.


        //Unsupported feature: Change Name on "Control 4". Please convert manually.


        //Unsupported feature: Change Editable on "Control 4". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 4". Please convert manually.


        //Unsupported feature: Change Name on "Control 26". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 26". Please convert manually.


        //Unsupported feature: Change Name on "Control 16". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 16". Please convert manually.


        //Unsupported feature: Change Name on "Control 6". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 6". Please convert manually.


        //Unsupported feature: Change Name on "Control 20". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 20". Please convert manually.


        //Unsupported feature: Change Name on "Control 38". Please convert manually.


        //Unsupported feature: Change Editable on "Control 38". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 38". Please convert manually.


        //Unsupported feature: Change Name on "Control 50". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 50". Please convert manually.


        //Unsupported feature: Change BlankZero on "Control 8". Please convert manually.


        //Unsupported feature: Change Name on "Control 8". Please convert manually.


        //Unsupported feature: Change Editable on "Control 8". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 8". Please convert manually.


        //Unsupported feature: Change Name on "Control 24". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 24". Please convert manually.


        //Unsupported feature: Change Name on "Control 10". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 10". Please convert manually.


        //Unsupported feature: Change BlankZero on "Control 12". Please convert manually.


        //Unsupported feature: Change Name on "Control 12". Please convert manually.


        //Unsupported feature: Change Editable on "Control 12". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 12". Please convert manually.


        //Unsupported feature: Change Name on "Control 18". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 18". Please convert manually.


        //Unsupported feature: Change Name on "Control 28". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 28". Please convert manually.


        //Unsupported feature: Change Name on "Control 44". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 44". Please convert manually.


        //Unsupported feature: Change Name on "Control 14". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 14". Please convert manually.


        //Unsupported feature: Change Name on "Control 46". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 46". Please convert manually.


        //Unsupported feature: Change Name on "Control 30". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 30". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500007". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500007". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500006". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500006". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500005". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500005". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500004". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500004". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500003". Please convert manually.


        //Unsupported feature: Change Editable on "Control 1500003". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500003". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500001". Please convert manually.


        //Unsupported feature: Change Editable on "Control 1500001". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500001". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500008". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500008". Please convert manually.


        //Unsupported feature: Change Name on "Control 32". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 32". Please convert manually.


        //Unsupported feature: Change Name on "Control 22". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 22". Please convert manually.


        //Unsupported feature: Change Name on "Control 36". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 36". Please convert manually.


        //Unsupported feature: Change Name on "Control 34". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 34". Please convert manually.


        //Unsupported feature: Change Name on "Control 42". Please convert manually.


        //Unsupported feature: Change Editable on "Control 42". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 42". Please convert manually.


        //Unsupported feature: Change Name on "Control 40". Please convert manually.


        //Unsupported feature: Change Editable on "Control 40". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 40". Please convert manually.


        //Unsupported feature: Change Name on "Control 52". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 52". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500000". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500000". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500002". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500002". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500009". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500009". Please convert manually.


        //Unsupported feature: Change Name on "Control 1055601". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1055601". Please convert manually.

        modify("Control 48")
        {
            Visible = false;
        }
        addafter("Control 4")
        {
            field(Sample; Sample)
            {
                Editable = EditableFields;
            }
            field("Store Remarks"; "Store Remarks")
            {
            }
            field("Gen. Prod. Posting Group"; "Gen. Prod. Posting Group")
            {
            }
            field("Gen. Bus. Posting Group"; "Gen. Bus. Posting Group")
            {
            }
            field("Quantity Accepted"; "Quantity Accepted")
            {
                Editable = "Quantity AcceptedEditable";
            }
            field("Quantity Rejected"; "Quantity Rejected")
            {
                Editable = "Quantity RejectedEditable";
            }
            field("Qty. Rcd. Not Invoiced"; "Qty. Rcd. Not Invoiced")
            {
                Editable = EditableFields;
            }
            field("Unit Cost"; "Unit Cost")
            {
                Editable = EditableFields;
            }
            field("QC Enabled"; "QC Enabled")
            {
                Editable = EditableFields;
            }
            field("Quality Before Receipt"; "Quality Before Receipt")
            {
            }
        }
        addafter("Control 16")
        {
            field("Indent No."; "Indent No.")
            {
            }
            field("Indent Line No."; "Indent Line No.")
            {
            }
            field("Quantity Rework"; "Quantity Rework")
            {
                Editable = "Quantity ReworkEditable";
            }
            field("Document date"; "Document date")
            {
            }
        }
        addafter("Control 1055601")
        {
            field("Pay-to Vendor No."; "Pay-to Vendor No.")
            {
            }
            field("Buy-from Vendor No."; "Buy-from Vendor No.")
            {
            }
            field(Make; Make)
            {
                Editable = EditableFields;
            }
            field("Qty. Invoiced (Base)"; "Qty. Invoiced (Base)")
            {
                Editable = true;
            }
            field("Order No."; "Order No.")
            {
                Editable = EditableFields;
            }
            field("Order Line No."; "Order Line No.")
            {
                Editable = EditableFields;
            }
            field("Line No."; "Line No.")
            {
            }
            field("Quantity (Base)"; "Quantity (Base)")
            {
            }
            field("VAT Bus. Posting Group"; "VAT Bus. Posting Group")
            {
            }
            field("VAT Prod. Posting Group"; "VAT Prod. Posting Group")
            {
            }
            field("Order Address Code"; "Order Address Code")
            {
            }
            field("Buy-From GST Registration No"; "Buy-From GST Registration No")
            {
            }
            field("Item Rcpt. Entry No."; "Item Rcpt. Entry No.")
            {
            }
            field("Currency Code"; "Currency Code")
            {
            }
            field("GST Jurisdiction Type"; "GST Jurisdiction Type")
            {
            }
            field("Part Number"; "Part Number")
            {
            }
        }
    }
    actions
    {

        //Unsupported feature: Change Name on "Action 1900000004". Please convert manually.


        //Unsupported feature: Change Name on "Action 1906587504". Please convert manually.


        //Unsupported feature: Change Name on "Action 1900546304". Please convert manually.


        //Unsupported feature: Change Name on "Action 1907935204". Please convert manually.


        //Unsupported feature: Change AccessByPermission on "Dimensions(Action 1901741704)". Please convert manually.

        addafter(ItemInvoiceLines)
        {
            action("Inspection &Lots")
            {
                Caption = 'Inspection &Lots';

                trigger OnAction();
                begin
                    //This functionality was copied from page #136. Unsupported part was commented. Please check it.
                    /*CurrPage.PurchReceiptLines.Page.*/
                    ShowInspectLots;

                end;
            }
            action("Sample Lot Inspection")
            {
                Caption = 'Sample Lot Inspection';

                trigger OnAction();
                begin
                    //This functionality was copied from page #136. Unsupported part was commented. Please check it.
                    /*CurrPage.PurchReceiptLines.Page.*/
                    _SampleLotInspection;

                end;
            }
        }
    }


    //Unsupported feature: PropertyModification on "ShowTracking(PROCEDURE 1).ItemLedgEntry(Variable 1000)". Please convert manually.

    //var
    //>>>> ORIGINAL VALUE:
    //ShowTracking : 32;
    //Variable type has not been exported.
    //>>>> MODIFIED VALUE:
    //ShowTracking : "Item Ledger Entry";
    //Variable type has not been exported.


    //Unsupported feature: PropertyModification on "ShowTracking(PROCEDURE 1).TempItemLedgEntry(Variable 1002)". Please convert manually.

    //var
    //>>>> ORIGINAL VALUE:
    //ShowTracking : 32;
    //Variable type has not been exported.
    //>>>> MODIFIED VALUE:
    //ShowTracking : "Item Ledger Entry";
    //Variable type has not been exported.

    var
        TrackingPage: Page "Order Tracking";


    //Unsupported feature: PropertyModification on "UndoReceiptLine(PROCEDURE 2).PurchRcptLine(Variable 1002)". Please convert manually.

    //var
    //>>>> ORIGINAL VALUE:
    //UndoReceiptLine : 121;
    //Variable type has not been exported.
    //>>>> MODIFIED VALUE:
    //UndoReceiptLine : "Purch. Rcpt. Line";
    //Variable type has not been exported.

    var
        IDS: Record "Inspection Datasheet Header";
        IDSL: Record "Inspection Datasheet Line";
        QILE: Record "Quality Item Ledger Entry";
        PIDS: Record "Posted Inspect DatasheetHeader";
        PIDSL: Record "Posted Inspect Datasheet Line";
        IR: Record "Inspection Receipt Header";

    var
        InspectDataSheet: Record "Inspection Datasheet Header";
        PostedInspectDataSheet: Record "Posted Inspect DatasheetHeader";
        InspectReportHeader: Record "Inspection Receipt Header";
        InspectLots: Record "Inspection Lot";
        PostInspLot: Codeunit "Inspection Data Sheets";
        Text000: Label 'Inspection Data Sheets already exists for atleast one of the Inspection Lots.\Inspection Data sheets cannot be created here.';
        Text001: Label 'Inspection Data Sheet already exists for the Receipt.';
        [InDataSet]
        "Quantity AcceptedEditable": Boolean;
        [InDataSet]
        "Quantity RejectedEditable": Boolean;
        [InDataSet]
        "Quantity ReworkEditable": Boolean;
        EditableFields: Boolean;


    //Unsupported feature: CodeInsertion on "OnInit". Please convert manually.

    //trigger OnInit();
    //Parameters and return type have not been exported.
    //begin
    /*
    "Quantity ReworkEditable" := TRUE;
    "Quantity RejectedEditable" := TRUE;
    "Quantity AcceptedEditable" := TRUE;
    */
    //end;


    //Unsupported feature: CodeInsertion on "OnOpenPage". Please convert manually.

    //trigger OnOpenPage();
    //begin
    /*
    IF USERID IN ['EFFTRONICS\SUJANI','EFFTRONICS\ANILKUMAR','EFFTRONICS\VISHNUPRIYA','EFFTRONICS\B2BOTS','EFFTRONICS\RENUKACH'] THEN   //'EFFTRONICS\VISHNUPRIYA',
      EditableFields := TRUE
    ELSE
      EditableFields := FALSE;
    */
    //end;

    procedure TrackingPage();
    begin
    end;


    //Unsupported feature: CodeModification on "ShowTracking(PROCEDURE 1)". Please convert manually.

    //procedure ShowTracking();
    //Parameters and return type have not been exported.
    //>>>> ORIGINAL CODE:
    //begin
    /*
    TESTFIELD(Type,Type::Item);
    IF "Item Rcpt. Entry No." <> 0 THEN BEGIN
      ItemLedgEntry.GET("Item Rcpt. Entry No.");
      TrackingForm.SetItemLedgEntry(ItemLedgEntry);
    END ELSE
      TrackingForm.SetMultipleItemLedgEntries(TempItemLedgEntry,
        DATABASE::"Purch. Rcpt. Line",0,"Document No.",'',0,"Line No.");

    TrackingForm.RUNMODAL;
    */
    //end;
    //>>>> MODIFIED CODE:
    //begin
    /*
    #1..3
      TrackingPage.SetItemLedgEntry(ItemLedgEntry);
    END ELSE
      TrackingPage.SetMultipleItemLedgEntries(TempItemLedgEntry,
        DATABASE::"Purch. Rcpt. Line",0,"Document No.",'',0,"Line No.");

    TrackingPage.RUNMODAL;
    */
    //end;

    procedure IDS();
    begin
    end;

    procedure IDSL();
    begin
    end;

    procedure QILE();
    begin
    end;

    procedure PIDS();
    begin
    end;

    procedure PIDSL();
    begin
    end;

    procedure IR();
    begin
    end;


    //Unsupported feature: CodeModification on "UndoReceiptLine(PROCEDURE 2)". Please convert manually.

    //procedure UndoReceiptLine();
    //Parameters and return type have not been exported.
    //>>>> ORIGINAL CODE:
    //begin
    /*
    PurchRcptLine.COPY(Rec);
    CurrPage.SETSELECTIONFILTER(PurchRcptLine);
    CODEUNIT.RUN(CODEUNIT::"Undo Purchase Receipt Line",PurchRcptLine);
    */
    //end;
    //>>>> MODIFIED CODE:
    //begin
    /*
    IF "QC Enabled" = TRUE THEN BEGIN
      IDS.SETRANGE("Receipt No.","Document No.");
      IDS.SETRANGE("Purch Line No","Line No.");
      IF IDS.FINDSET THEN BEGIN
        REPEAT
          PIDS.TRANSFERFIELDS(IDS);
          PIDS."Quality Status" := PIDS."Quality Status" :: Cancel;
          PIDS.INSERT;
          IDS.DELETE;
          IDSL.SETRANGE("Document No.",IDS."No.");
          IF IDSL.FINDSET THEN BEGIN
            REPEAT
              PIDSL.TRANSFERFIELDS(IDSL);
              PIDSL.INSERT;
            UNTIL IDSL.NEXT = 0;
            IDSL.DELETEALL;
          END;
        UNTIL IDS.NEXT = 0;
        QILE.SETRANGE("Document No.",IDS."Receipt No.");
        QILE.SETRANGE(QILE."Purch.Rcpt Line","Line No.");
        IF QILE.FINDSET THEN
          REPEAT
            QILE.DELETE;
          UNTIL QILE.NEXT = 0;
      END;
    END;
     {
      IR.SETRANGE("Receipt No.","Document No.");
      IR.SETRANGE("Purch Line No","Line No.");
      IR.SETFILTER(Status,'NO');
      IF  IR.FINDSET THEN BEGIN
        REPEAT
          IR.Status := TRUE;
          //IR."Quality Status" := IR."Quality Status" :: Close;
          IR.MODIFY;
        UNTIL IR.NEXT = 0;
      END;
      QILE.SETRANGE("Document No.",IR."Receipt No.");
      QILE.SETRANGE(QILE."Purch.Rcpt Line","Line No.");
      IF QILE.FINDSET THEN
        REPEAT
          QILE.DELETE;
        UNTIL QILE.NEXT = 0;
    END;
    }
    #1..3
    */
    //end;

    [LineStart(14319)]
    procedure "---Quality control---"();
    begin
    end;

    [LineStart(14322)]
    procedure ShowDataSheet();
    begin
        InspectDataSheet.SETRANGE("Receipt No.", "Document No.");
        InspectDataSheet.SETRANGE("Item No.", "No.");
        InspectDataSheet.SETRANGE("Purch Line No", "Line No.");
        InspectDataSheet.SETCURRENTKEY("Rework Level");
        PAGE.RUN(PAGE::"Inspection Data Sheet List", InspectDataSheet);
    end;

    [LineStart(14329)]
    procedure ShowPostedDataSheet();
    begin
        PostedInspectDataSheet.SETRANGE("Receipt No.", "Document No.");
        PostedInspectDataSheet.SETRANGE("Item No.", "No.");
        PostedInspectDataSheet.SETRANGE("Purch Line No", "Line No.");
        PostedInspectDataSheet.SETCURRENTKEY("Rework Level");
        PAGE.RUN(PAGE::"Posted Inspect Data Sheet List", PostedInspectDataSheet);
    end;

    [LineStart(14336)]
    procedure ShowInspectReport(Status: Boolean);
    begin
        InspectReportHeader.SETRANGE("Receipt No.", "Document No.");
        InspectReportHeader.SETRANGE("Purch Line No", "Line No.");
        InspectReportHeader.SETFILTER(InspectReportHeader.Status, '%1', Status);
        InspectReportHeader.SETCURRENTKEY("Rework Level");
        PAGE.RUN(PAGE::"Inspection Receipt List", InspectReportHeader);
        InspectReportHeader.RESET;
    end;

    [LineStart(14344)]
    procedure ShowInspectLots();
    var
        PostPurchHead: Record "Purch. Rcpt. Header";
    begin
        TESTFIELD("QC Enabled");
        IF Type = Type::Item THEN BEGIN
            InspectLots.RESET;
            InspectLots.SETRANGE("Document No.", "Document No.");
            InspectLots.SETRANGE("Purch. Line No.", "Line No.");
            InspectLots.SETRANGE("Item No.", "No.");
            PAGE.RUN(PAGE::"Inspection Lots", InspectLots);
        END;
    end;

    [LineStart(14354)]
    procedure CreateInpDataSheets();
    begin
        IF Type = Type::Item THEN BEGIN
            TESTFIELD("Spec ID");
            InspectLots.SETRANGE("Document No.", "Document No.");
            InspectLots.SETRANGE("Purch. Line No.", "Line No.");
            InspectLots.SETRANGE("Item No.", "No.");
            InspectLots.SETRANGE("Inspect. Data sheet created", TRUE);
            IF NOT InspectLots.FINDFIRST THEN BEGIN
                InspectLots.SETRANGE("Inspect. Data sheet created");
                IF InspectLots.FINDSET THEN
                    REPEAT
                        PostInspLot.RUN(InspectLots);
                    UNTIL InspectLots.NEXT = 0;
            END ELSE
                ERROR(Text000);
        END;
    end;

    [LineStart(14371)]
    procedure QcOverRide();
    begin
        IF NOT "QC Enabled" THEN BEGIN
            "Quantity AcceptedEditable" := TRUE;
            "Quantity RejectedEditable" := TRUE;
            "Quantity ReworkEditable" := TRUE
        END ELSE
            MESSAGE('Quantity Accepted/Rejected can''t be override when QC is enabled');
    end;

    [LineStart(14379)]
    procedure QcOverRideDisabled();
    begin
        "Quantity AcceptedEditable" := FALSE;
        "Quantity RejectedEditable" := FALSE;
        "Quantity ReworkEditable" := FALSE;
    end;

    [LineStart(14384)]
    procedure _SampleLotInspection();
    var
        SampleLotInspection: Record "Sample Lot Inspection";
    begin
        //"Sample Lot Inspection" := TRUE;
        SampleLotInspection.SETRANGE("Purchase Order No.", "Order No.");
        SampleLotInspection.SETRANGE("Purchase Line No.", "Order Line No.");
        PAGE.RUN(60072, SampleLotInspection);
    end;

    [LineStart(14390)]
    procedure SampleLotInspection();
    var
        SampleLotInspection: Record "Sample Lot Inspection";
    begin
        //"Sample Lot Inspection" := TRUE;
        SampleLotInspection.SETRANGE("Purchase Order No.", "Order No.");
        SampleLotInspection.SETRANGE("Purchase Line No.", "Order Line No.");
        PAGE.RUN(60072, SampleLotInspection);
    end;

    //Unsupported feature: PropertyChange. Please convert manually.


    //Unsupported feature: PropertyChange. Please convert manually.


    //Unsupported feature: PropertyChange. Please convert manually.


    //Unsupported feature: PropertyChange. Please convert manually.


    //Unsupported feature: PropertyChange. Please convert manually.


    //Unsupported feature: PropertyChange. Please convert manually.

}


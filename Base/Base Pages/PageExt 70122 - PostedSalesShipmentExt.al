pageextension 70122 PostedSalesShipmentExt extends "Posted Sales Shipment"
{
    // version NAVW19.00.00.51685,NAVIN9.00.00.51685,B2B1.0

    layout
    {

        //Unsupported feature: Change Name on "Control 1900000001". Please convert manually.


        //Unsupported feature: Change Name on "Control 1". Please convert manually.


        //Unsupported feature: Change Name on "Control 2". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 2". Please convert manually.


        //Unsupported feature: Change Editable on "Control 6". Please convert manually.


        //Unsupported feature: Change Name on "Control 6". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 6". Please convert manually.


        //Unsupported feature: Change Name on "Control 112". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 112". Please convert manually.


        //Unsupported feature: Change Editable on "Control 52". Please convert manually.


        //Unsupported feature: Change Name on "Control 52". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 52". Please convert manually.


        //Unsupported feature: Change Editable on "Control 54". Please convert manually.


        //Unsupported feature: Change Name on "Control 54". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 54". Please convert manually.


        //Unsupported feature: Change Editable on "Control 56". Please convert manually.


        //Unsupported feature: Change Name on "Control 56". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 56". Please convert manually.

        modify("Control 8")
        {

            //Unsupported feature: Change Editable on "Control 8". Please convert manually.


            //Unsupported feature: Change Name on "Control 8". Please convert manually.

            CaptionML = ENU = 'Sell-to Post Code/City';

            //Unsupported feature: Change ImplicitType on "Control 8". Please convert manually.

        }

        //Unsupported feature: Change Editable on "Control 58". Please convert manually.


        //Unsupported feature: Change Name on "Control 58". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 58". Please convert manually.


        //Unsupported feature: Change Editable on "Control 60". Please convert manually.


        //Unsupported feature: Change Name on "Control 60". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 60". Please convert manually.


        //Unsupported feature: Change Name on "Control 16". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 16". Please convert manually.


        //Unsupported feature: Change Name on "Control 1280005". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1280005". Please convert manually.


        //Unsupported feature: Change Name on "Control 14". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 14". Please convert manually.


        //Unsupported feature: Change Name on "Control 27". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 27". Please convert manually.


        //Unsupported feature: Change Name on "Control 84". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 84". Please convert manually.


        //Unsupported feature: Change Name on "Control 87". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 87". Please convert manually.


        //Unsupported feature: Change Name on "Control 111". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 111". Please convert manually.


        //Unsupported feature: Change Name on "Control 4". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 4". Please convert manually.


        //Unsupported feature: Change Editable on "Control 89". Please convert manually.


        //Unsupported feature: Change Name on "Control 89". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 89". Please convert manually.


        //Unsupported feature: Change Name on "Control 12". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 12". Please convert manually.


        //Unsupported feature: Change Name on "Control 82". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 82". Please convert manually.


        //Unsupported feature: Change PagePartID on "SalesShipmLines(Control 46)". Please convert manually.


        //Unsupported feature: Change Name on "Control 1905885101". Please convert manually.


        //Unsupported feature: Change Editable on "Control 18". Please convert manually.


        //Unsupported feature: Change Name on "Control 18". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 18". Please convert manually.


        //Unsupported feature: Change Name on "Control 114". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 114". Please convert manually.


        //Unsupported feature: Change Editable on "Control 20". Please convert manually.


        //Unsupported feature: Change Name on "Control 20". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 20". Please convert manually.


        //Unsupported feature: Change Editable on "Control 22". Please convert manually.


        //Unsupported feature: Change Name on "Control 22". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 22". Please convert manually.


        //Unsupported feature: Change Editable on "Control 24". Please convert manually.


        //Unsupported feature: Change Name on "Control 24". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 24". Please convert manually.

        modify("Control 67")
        {

            //Unsupported feature: Change Editable on "Control 67". Please convert manually.


            //Unsupported feature: Change Name on "Control 67". Please convert manually.

            CaptionML = ENU = 'Bill-to Post Code/City';

            //Unsupported feature: Change ImplicitType on "Control 67". Please convert manually.

        }

        //Unsupported feature: Change Editable on "Control 26". Please convert manually.


        //Unsupported feature: Change Name on "Control 26". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 26". Please convert manually.


        //Unsupported feature: Change Name on "Control 28". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 28". Please convert manually.


        //Unsupported feature: Change Name on "Control 9". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 9". Please convert manually.


        //Unsupported feature: Change Name on "Control 63". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 63". Please convert manually.


        //Unsupported feature: Change Name on "Control 1906801201". Please convert manually.


        //Unsupported feature: Change Name on "Control 30". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 30". Please convert manually.


        //Unsupported feature: Change Name on "Control 32". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 32". Please convert manually.


        //Unsupported feature: Change Name on "Control 34". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 34". Please convert manually.


        //Unsupported feature: Change Name on "Control 36". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 36". Please convert manually.

        modify("Control 69")
        {

            //Unsupported feature: Change Name on "Control 69". Please convert manually.

            CaptionML = ENU = 'Ship-to Post Code/City';

            //Unsupported feature: Change ImplicitType on "Control 69". Please convert manually.

        }

        //Unsupported feature: Change Name on "Control 38". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 38". Please convert manually.


        //Unsupported feature: Change Name on "Control 40". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 40". Please convert manually.


        //Unsupported feature: Change Name on "Control 1280003". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1280003". Please convert manually.


        //Unsupported feature: Change Name on "Control 65". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 65". Please convert manually.


        //Unsupported feature: Change Name on "Control 91". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 91". Please convert manually.


        //Unsupported feature: Change Name on "Control 95". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 95". Please convert manually.


        //Unsupported feature: Change Name on "Control 42". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 42". Please convert manually.


        //Unsupported feature: Change Name on "Control 62". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 62". Please convert manually.


        //Unsupported feature: Change Name on "Control 93". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 93". Please convert manually.


        //Unsupported feature: Change Name on "Control 72". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 72". Please convert manually.


        //Unsupported feature: Change Name on "Control 44". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 44". Please convert manually.


        //Unsupported feature: Change ImplicitType on ""Posting Date2"(Control 1500009)". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500010". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500010". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500011". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500011". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500012". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500012". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500022". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500022". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500013". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500013". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500014". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500014". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500003". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500003". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500008". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500007". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500019". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500019". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500020". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500020". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500021". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500021". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500006". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500006". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500005". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500005". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500004". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500004". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500025". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500025". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500015". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500015". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500016". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500016". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500017". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500017". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500018". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500018". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500024". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500024". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500023". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500023". Please convert manually.


        //Unsupported feature: Change Name on "Control 1500026". Please convert manually.


        //Unsupported feature: Change ImplicitType on "Control 1500026". Please convert manually.


        //Unsupported feature: Change Name on "Control 1900000007". Please convert manually.


        //Unsupported feature: Change Name on "Control 1900383207". Please convert manually.


        //Unsupported feature: Change Name on "Control 1905767507". Please convert manually.


        //Unsupported feature: PropertyDeletion on "Control 4". Please convert manually.

        addafter("Control 1280005")
        {
            field("Form Code"; "Form Code")
            {
            }
            field("Form No."; "Form No.")
            {
            }
        }
        addafter("Control 82")
        {
            field("Order Date"; "Order Date")
            {
                Editable = false;
            }
        }
        addafter("Control 28")
        {
            field("Customer OrderNo."; "Customer OrderNo.")
            {
                Editable = false;
            }
        }
        addafter("Control 1906801201")
        {
            group(Others)
            {
                Caption = 'Others';
                field("RDSO Charges"; "RDSO Charges")
                {
                }
                field("RDSO Charges Paid By."; "RDSO Charges Paid By.")
                {
                }
                field("<Customer OrderNo.2>"; "Customer OrderNo.")
                {
                }
                field("Customer Order Date"; "Customer Order Date")
                {
                }
                field("Tender No."; "Tender No.")
                {
                }
                field("Security Deposit Amount"; "Security Deposit Amount")
                {
                    Editable = false;
                }
                field("LD Amount"; "LD Amount")
                {
                }
                field("Document Position"; "Document Position")
                {
                }
                field("RDSO Inspection Required"; "RDSO Inspection Required")
                {
                }
                field("RDSO Inspection By"; "RDSO Inspection By")
                {
                }
                field("Posting Description"; "Posting Description")
                {
                }
            }
            group("Security Deposit")
            {
                Caption = 'Security Deposit';
                field(Control1102152030; "Security Deposit")
                {
                }
                field("SD Status"; "SD Status")
                {
                    Editable = false;
                }
                field("CA Number"; "CA Number")
                {
                }
                field("SD Required Date"; "SD Required Date")
                {
                    Editable = false;
                }
                field("SD Requested Date"; "SD Requested Date")
                {
                    Editable = false;
                }
                field("Security Deposit Status"; "Security Deposit Status")
                {
                    Editable = false;
                }
                field("Deposit Payment Due Date"; "Deposit Payment Due Date")
                {
                    Editable = false;
                }
                field("Final Bill Date"; "Final Bill Date")
                {
                    Editable = false;
                }
                field("Warranty Period"; "Warranty Period")
                {
                    Editable = false;
                }
                field("Due Date"; "Due Date")
                {
                    Editable = false;
                }
                field("Deposit Payment Date"; "Deposit Payment Date")
                {
                    Editable = false;
                }
                field("SecurityDeposit Exp. Rcpt Date"; "SecurityDeposit Exp. Rcpt Date")
                {
                    Editable = false;
                }
            }
        }
    }
    actions
    {

        //Unsupported feature: Change Name on "Action 1900000003". Please convert manually.


        //Unsupported feature: Change Name on "Action 47". Please convert manually.

        modify("Action 10")
        {

            //Unsupported feature: Change RunObject on "Action 10". Please convert manually.

            Promoted = true;

            //Unsupported feature: Change Name on "Action 10". Please convert manually.

        }

        //Unsupported feature: Change RunObject on "Action 78". Please convert manually.


        //Unsupported feature: Change RunPageLink on "Action 78". Please convert manually.


        //Unsupported feature: Change Name on "Action 78". Please convert manually.


        //Unsupported feature: Change Name on "Action 80". Please convert manually.


        //Unsupported feature: Change Name on "Action 80". Please convert manually.


        //Unsupported feature: Change Name on "Action 107". Please convert manually.


        //Unsupported feature: Change RunObject on "Action 1500002". Please convert manually.


        //Unsupported feature: Change RunPageLink on "Action 1500002". Please convert manually.


        //Unsupported feature: Change Name on "Action 1500002". Please convert manually.


        //Unsupported feature: Change RunObject on "Action 1500001". Please convert manually.


        //Unsupported feature: Change RunPageLink on "Action 1500001". Please convert manually.


        //Unsupported feature: Change Name on "Action 1500001". Please convert manually.


        //Unsupported feature: Change RunObject on "Action 1500000". Please convert manually.


        //Unsupported feature: Change RunPageLink on "Action 1500000". Please convert manually.


        //Unsupported feature: Change Name on "Action 1500000". Please convert manually.


        //Unsupported feature: Change RunObject on "CertificateOfSupplyDetails(Action 3)". Please convert manually.


        //Unsupported feature: Change RunPageLink on "CertificateOfSupplyDetails(Action 3)". Please convert manually.

        modify(PrintCertificateofSupply)
        {
            Promoted = false;
        }

        //Unsupported feature: Change Name on "Action 1900000004". Please convert manually.


        //Unsupported feature: Change Name on "Action 74". Please convert manually.


        //Unsupported feature: Change Name on "Action 79". Please convert manually.

        modify("Action 49")
        {

            //Unsupported feature: Change Ellipsis on "Action 49". Please convert manually.

            Promoted = true;

            //Unsupported feature: Change Name on "Action 49". Please convert manually.

        }
        modify("Action 50")
        {
            Promoted = true;

            //Unsupported feature: Change Name on "Action 50". Please convert manually.

        }
        addafter("Action 79")
        {
            action(Attachments)
            {
                Caption = 'Attachments';

                trigger OnAction();
                begin
                    CustAttach.RESET;
                    CustAttach.SETRANGE("Table ID", DATABASE::"Sales Header");
                    CustAttach.SETRANGE("Document No.", "Order No.");
                    //CustAttach.SETRANGE("Document Type","Document Type");

                    PAGE.RUN(PAGE::"ESPL Attachments", CustAttach);
                end;
            }
        }
        addafter("Action 50")
        {
            action("Adjust for CS")
            {
                Promoted = true;
                PromotedCategory = Process;

                trigger OnAction();
                begin
                    // Added by Rakesh on 24-May-14
                    /*
                    IF ((TODAY-"Posting Date") > 5) THEN
                      ERROR('Items are not allowed to move for previous posting dates');
                    */
                    IF "Sell-to Customer No." = 'CUST00536' THEN BEGIN
                        SSH.RESET;
                        SSH.SETRANGE(SSH."Sell-to Customer No.", "Sell-to Customer No.");
                        SSH.SETRANGE(SSH."Posting Date", "Posting Date");
                        SSH.SETRANGE(SSH."Order No.", "Order No.");
                        SSH.SETRANGE(SSH."External Document No.", "External Document No.");
                        IF SSH.FINDFIRST THEN BEGIN
                            SSL.RESET;
                            SSL.SETRANGE(SSL."Document No.", SSH."No.");
                            SSL.SETFILTER(SSL.Quantity, '>%1', 0);
                            IF SSL.FINDSET THEN
                                REPEAT
                                    SerialNos := '';
                                    ILE.RESET;
                                    ILE.SETFILTER(ILE."Document No.", SSL."Document No.");
                                    ILE.SETFILTER(ILE."Item No.", SSL."No.");
                                    IF ILE.FINDFIRST THEN
                                        REPEAT
                                            ILE2.RESET;
                                            ILE2.SETFILTER(ILE2."Item No.", ILE."Item No.");
                                            ILE2.SETFILTER(ILE2."Serial No.", ILE."Serial No.");
                                            ILE2.SETFILTER(ILE2."Lot No.", ILE."Lot No.");
                                            ILE2.SETRANGE(ILE2."Posting Date", ILE."Posting Date");
                                            ILE2.SETRANGE(ILE2."Entry Type", ILE2."Entry Type"::"Positive Adjmt.");
                                            ILE2.SETRANGE(ILE2."Location Code", 'CS');
                                            ILE2.SETRANGE(ILE2."Global Dimension 2 Code", 'H-OFF');
                                            // IF NOT (ILE2.COUNT=2) THEN
                                            IF ILE2.FINDFIRST THEN BEGIN
                                                //MESSAGE('The Item '+ILE."Item No."+' are already moved to CS location')
                                            END
                                            ELSE BEGIN
                                                IF SerialNos = '' THEN
                                                    SerialNos := ILE."Serial No."
                                                ELSE
                                                    SerialNos := SerialNos + '|' + ILE."Serial No.";
                                            END;
                                        UNTIL ILE.NEXT = 0;
                                    IF SerialNos <> '' THEN
                                        Item_Positive_Adjustment1(ILE."Item No.", SerialNos, 'H-OFF', SSL."Document No.", SSL.Quantity);
                                UNTIL SSL.NEXT = 0;
                        END
                    END
                    ELSE
                        ERROR('This action is applicable only for Internal sale orders');
                    // end by Rakesh

                end;
            }
        }
    }


    //Unsupported feature: PropertyModification on "Action 107.OnAction.ApprovalsMgmt(Variable 1000)". Please convert manually.

    //var
    //>>>> ORIGINAL VALUE:
    //Action 107.OnAction.ApprovalsMgmt : 1535;
    //Variable type has not been exported.
    //>>>> MODIFIED VALUE:
    //Action 107.OnAction.ApprovalsMgmt : "Approvals Mgmt.";
    //Variable type has not been exported.


    //Unsupported feature: PropertyModification on "PrintCertificateofSupply(Action 5).OnAction.CertificateOfSupply(Variable 1002)". Please convert manually.

    //var
    //>>>> ORIGINAL VALUE:
    //PrintCertificateofSupply : 780;
    //Variable type has not been exported.
    //>>>> MODIFIED VALUE:
    //PrintCertificateofSupply : "Certificate of Supply";
    //Variable type has not been exported.


    //Unsupported feature: PropertyModification on "SalesShptHeader(Variable 1000)". Please convert manually.

    //var
    //>>>> ORIGINAL VALUE:
    //SalesShptHeader : 110;
    //Variable type has not been exported.
    //>>>> MODIFIED VALUE:
    //SalesShptHeader : "Sales Shipment Header";
    //Variable type has not been exported.

    var
        CustAttach: Record Attachments;
        ILE21: Record "Item Ledger Entry";
        ILE1: Record "Item Ledger Entry";
        SSH: Record "Sales Shipment Header";
        SSL: Record "Sales Shipment Line";
        SerialNos: Text;
        ILE: Record "Item Ledger Entry";
        ILE2: Record "Item Ledger Entry";
        SMTP_MAIL: Codeunit "SMTP Mail";


    //Unsupported feature: CodeModification on "OnModifyRecord". Please convert manually.

    //trigger OnModifyRecord() : Boolean;
    //>>>> ORIGINAL CODE:
    //begin
    /*
    CODEUNIT.RUN(CODEUNIT::"Shipment Header - Edit",Rec);
    EXIT(FALSE);
    */
    //end;
    //>>>> MODIFIED CODE:
    //begin
    /*
    // COMMENTED BY VISHNU PRIYA
    {CODEUNIT.RUN(CODEUNIT::"Shipment Header - Edit",Rec);
    EXIT(FALSE);}
    */
    //end;


    //Unsupported feature: CodeModification on "OnOpenPage". Please convert manually.

    //trigger OnOpenPage();
    //>>>> ORIGINAL CODE:
    //begin
    /*
    SetSecurityFilterOnRespCenter;
    */
    //end;
    //>>>> MODIFIED CODE:
    //begin
    /*
    //SetSecurityFilterOnRespCenter;

    //Added by Vishnu Priya
    IF SMTP_MAIL.Permission_Checking(USERID,'ERP-ADMIN') THEN
      CurrPage.EDITABLE(TRUE)
    ELSE CurrPage.EDITABLE(FALSE);
    // ended by Vishnu Priya on 04-June-18.
    */
    //end;

    [LineStart(13429)]
    procedure Item_Positive_Adjustment("Item No.": Code[20]; "Serial No.": Code[20]; "Location Code": Code[10]);
    var
        "Item Journal Line": Record "Item Journal Line";
        "Reservation Entry": Record "Reservation Entry";
        "Reservation Entry1": Record "Reservation Entry";
        NoSeriesMgt: Codeunit NoSeriesManagement;
        "Item Ledger Entry": Record "Item Ledger Entry";
    begin
        //Deleted Var (Journal Line DimensionRecordTable356) B2B
        "Item Ledger Entry".RESET;
        "Item Ledger Entry".SETCURRENTKEY("Item Ledger Entry"."Item No.",
                                          "Item Ledger Entry"."Lot No.",
                                          "Item Ledger Entry"."Serial No.");
        "Item Ledger Entry".SETRANGE("Item Ledger Entry"."Item No.", "Item No.");
        "Item Ledger Entry".SETRANGE("Item Ledger Entry"."Serial No.", "Serial No.");
        "Item Ledger Entry".SETFILTER("Item Ledger Entry"."Remaining Quantity", '>%1', 0);
        IF NOT "Item Ledger Entry".FIND('-') THEN BEGIN
            // INSERTING RECORD IN ITEM JOURNAL LINE
            "Item Journal Line".INIT;
            "Item Journal Line"."Journal Template Name" := 'ITEM';
            "Item Journal Line"."Journal Batch Name" := 'POS-CS-SIG';
            "Item Journal Line"."Entry Type" := "Item Journal Line"."Entry Type"::"Positive Adjmt.";
            "Item Journal Line"."Line No." := 10000;
            "Item Journal Line"."Source Code" := 'ITEMJNL';
            //"Item Journal Line"."Serial No.":="Serial No.";
            //"Item Journal Line"."Lot No.":=ICNNO(TODAY)+'SA01';
            "Item Journal Line"."Document No." := NoSeriesMgt.GetNextNo('POS-ADJ-CS', TODAY, FALSE);
            "Item Journal Line".VALIDATE("Item Journal Line"."Item No.", "Item No.");
            "Item Journal Line".VALIDATE(Quantity, 1);
            "Item Journal Line".VALIDATE("Location Code", 'CS');
            "Item Journal Line".VALIDATE("Shortcut Dimension 2 Code", "Location Code");
            "Item Journal Line"."User ID" := USERID;
            "Item Journal Line"."Document Date" := TODAY;
            "Item Journal Line".INSERT;


            // INSERTING RECORD IN RESERVATION ENTRY
            "Reservation Entry".INIT;
            IF "Reservation Entry1".FIND('+') THEN
                "Reservation Entry"."Entry No." := "Reservation Entry1"."Entry No." + 1;
            "Reservation Entry".VALIDATE("Item No.", "Item No.");
            "Reservation Entry".VALIDATE("Location Code", 'CS');
            "Reservation Entry".VALIDATE("Quantity (Base)", 1);
            "Reservation Entry"."Reservation Status" := "Reservation Entry"."Reservation Status"::Prospect;
            "Reservation Entry"."Creation Date" := TODAY;
            "Reservation Entry"."Source Type" := 83;
            "Reservation Entry"."Source Subtype" := 2;
            "Reservation Entry"."Source ID" := 'ITEM';
            "Reservation Entry"."Source Batch Name" := 'POS-CS-SIG';
            "Reservation Entry"."Source Ref. No." := 10000;
            "Reservation Entry"."Created By" := 'SUPER';
            "Reservation Entry".Positive := TRUE;
            "Reservation Entry"."Expected Receipt Date" := TODAY;
            "Reservation Entry".VALIDATE("Serial No.", "Serial No.");
            "Reservation Entry"."Lot No." := ICNNO(TODAY) + 'SA01';
            //"Reservation Entry".Quantity:=1;
            "Reservation Entry".INSERT;


            /*  // INSERTING JOURNAL LINE DIMENSION
              "Journal Line Dimension".INIT;
              "Journal Line Dimension"."Table ID":=83;
              "Journal Line Dimension"."Journal Template Name":='ITEM';
              "Journal Line Dimension"."Journal Batch Name":='POS-CS-SIG';
              "Journal Line Dimension"."Journal Line No.":=10000;
              "Journal Line Dimension"."Dimension Code":='LOCATIONS';
              "Journal Line Dimension"."Dimension Value Code":="Location Code";
              "Journal Line Dimension".INSERT;*/
        END ELSE
            ERROR(' ITEM WAS ALLREADY AVAILABLE IN INVENTORY');


        CODEUNIT.RUN(CODEUNIT::"Item Jnl.-Post", "Item Journal Line");

    end;

    [LineStart(13497)]
    procedure ICNNO(DT: Date) ICN: Code[10];
    var
        Dat: Text[30];
        Mon: Text[30];
        Year: Text[30];
    begin
        IF DATE2DMY(DT, 1) < 10 THEN
            Dat := '0' + FORMAT(DATE2DMY(DT, 1))
        ELSE
            Dat := FORMAT(DATE2DMY(DT, 1));

        IF DATE2DMY(DT, 2) < 10 THEN
            Mon := '0' + FORMAT(DATE2DMY(DT, 2))
        ELSE
            Mon := FORMAT(DATE2DMY(DT, 2));

        //IF DATE2DMY(DT,2) < 10 THEN
        Year := COPYSTR(FORMAT(DATE2DMY(DT, 3)), 3, 2);
        ICN := Dat + Mon + Year;
        EXIT(ICN);
    end;

    [LineStart(13511)]
    procedure Item_Positive_Adjustment1("Item No.": Code[20]; "Serial No.": Text; "Location Code": Code[10]; DocumentNo: Code[30]; ItmQty: Decimal);
    var
        "Item Journal Line": Record "Item Journal Line";
        "Reservation Entry": Record "Reservation Entry";
        "Reservation Entry1": Record "Reservation Entry";
        NoSeriesMgt: Codeunit NoSeriesManagement;
        "Item Ledger Entry": Record "Item Ledger Entry";
    begin
        //Deleted Var (Journal Line DimensionRecordTable356) B2B
        "Item Ledger Entry".RESET;
        "Item Ledger Entry".SETCURRENTKEY("Item Ledger Entry"."Item No.",
                                          "Item Ledger Entry"."Lot No.",
                                          "Item Ledger Entry"."Serial No.");
        "Item Ledger Entry".SETRANGE("Item Ledger Entry"."Item No.", "Item No.");
        "Item Ledger Entry".SETFILTER("Item Ledger Entry"."Serial No.", "Serial No.");
        "Item Ledger Entry".SETFILTER("Item Ledger Entry"."Remaining Quantity", '>%1', 0);
        IF NOT "Item Ledger Entry".FIND('-') THEN BEGIN
            // INSERTING RECORD IN ITEM JOURNAL LINE
            "Item Journal Line".INIT;
            "Item Journal Line"."Journal Template Name" := 'ITEM';
            "Item Journal Line"."Journal Batch Name" := 'POS-CS-SIG';
            "Item Journal Line"."Entry Type" := "Item Journal Line"."Entry Type"::"Positive Adjmt.";
            "Item Journal Line"."Line No." := 10000;
            "Item Journal Line"."Source Code" := 'ITEMJNL';
            //"Item Journal Line"."Serial No.":="Serial No.";
            //"Item Journal Line"."Lot No.":=ICNNO(TODAY)+'SA01';
            "Item Journal Line"."Document No." := NoSeriesMgt.GetNextNo('POS-ADJ-CS', TODAY, FALSE);
            "Item Journal Line".VALIDATE("Item Journal Line"."Item No.", "Item No.");
            "Item Journal Line".VALIDATE(Quantity, ItmQty);
            "Item Journal Line".VALIDATE("Location Code", 'CS');
            "Item Journal Line".VALIDATE("Shortcut Dimension 2 Code", "Location Code");
            "Item Journal Line"."User ID" := USERID;
            "Item Journal Line"."Document Date" := TODAY;
            "Item Journal Line".INSERT;


            // INSERTING RECORD IN RESERVATION ENTRY
            ILE1.RESET;
            ILE1.SETFILTER(ILE1."Document No.", DocumentNo);
            ILE1.SETFILTER(ILE1."Item No.", "Item No.");
            IF ILE1.FINDFIRST THEN
                REPEAT
                    ILE21.RESET;
                    ILE21.SETFILTER(ILE21."Item No.", ILE1."Item No.");
                    ILE21.SETFILTER(ILE21."Serial No.", ILE1."Serial No.");
                    ILE21.SETFILTER(ILE21."Lot No.", ILE1."Lot No.");
                    ILE21.SETRANGE(ILE21."Posting Date", ILE1."Posting Date");
                    ILE21.SETRANGE(ILE21."Entry Type", ILE21."Entry Type"::"Positive Adjmt.");
                    ILE21.SETRANGE(ILE21."Location Code", 'CS');
                    ILE21.SETRANGE(ILE21."Global Dimension 2 Code", 'H-OFF');
                    // IF NOT (ILE2.COUNT=2) THEN
                    IF ILE21.FINDFIRST THEN
                        MESSAGE('The Item ' + ILE1."Item No." + ' are already moved to CS location')
                    ELSE BEGIN
                        "Reservation Entry".INIT;
                        IF "Reservation Entry1".FIND('+') THEN
                            "Reservation Entry"."Entry No." := "Reservation Entry1"."Entry No." + 1;
                        "Reservation Entry".VALIDATE("Item No.", "Item No.");
                        "Reservation Entry".VALIDATE("Location Code", 'CS');
                        "Reservation Entry".VALIDATE("Quantity (Base)", 1);
                        "Reservation Entry"."Reservation Status" := "Reservation Entry"."Reservation Status"::Prospect;
                        "Reservation Entry"."Creation Date" := TODAY;
                        "Reservation Entry"."Source Type" := 83;
                        "Reservation Entry"."Source Subtype" := 2;
                        "Reservation Entry"."Source ID" := 'ITEM';
                        "Reservation Entry"."Source Batch Name" := 'POS-CS-SIG';
                        "Reservation Entry"."Source Ref. No." := 10000;
                        "Reservation Entry"."Created By" := 'SUPER';
                        "Reservation Entry".Positive := TRUE;
                        "Reservation Entry"."Expected Receipt Date" := TODAY;
                        "Reservation Entry".VALIDATE("Serial No.", ILE1."Serial No.");
                        "Reservation Entry"."Lot No." := ICNNO(TODAY) + 'SA01';
                        //"Reservation Entry".Quantity:=1;
                        "Reservation Entry".INSERT;
                    END;
                UNTIL ILE1.NEXT = 0;


            /*  // INSERTING JOURNAL LINE DIMENSION
            "Journal Line Dimension".INIT;
            "Journal Line Dimension"."Table ID":=83;
            "Journal Line Dimension"."Journal Template Name":='ITEM';
            "Journal Line Dimension"."Journal Batch Name":='POS-CS-SIG';
            "Journal Line Dimension"."Journal Line No.":=10000;
            "Journal Line Dimension"."Dimension Code":='LOCATIONS';
            "Journal Line Dimension"."Dimension Value Code":="Location Code";
            "Journal Line Dimension".INSERT;
            */
        END;
        //ELSE
        //ERROR(' ITEM WAS ALLREADY AVAILABLE IN INVENTORY');

        CODEUNIT.RUN(CODEUNIT::"Item Jnl.-Post", "Item Journal Line");

    end;

    //Unsupported feature: PropertyChange. Please convert manually.


    //Unsupported feature: PropertyChange. Please convert manually.


    //Unsupported feature: PropertyChange. Please convert manually.


    //Unsupported feature: PropertyChange. Please convert manually.

}

